<!DOCTYPE html><html class="docs-page" lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Documentation: @eluvio/elv-js-helpers</title><link rel="shortcut icon" href="./images/favicon.png"><link rel="stylesheet" type="text/css" href="./styles/style.css"></head><body><input id="open-nav" type="checkbox"><header class="navbar navbar-fixed-top navbar-inverse container-fluid"><div class="container-fluid"><div class="navbar-header"><label class="open-nav" for="open-nav"></label><a class="navbar-brand" href="#"><strong>@eluvio/elv-js-helpers</strong><span class="version">v0.0.1</span></a></div><ul class="nav navbar-nav navbar-left"><li><a href=".">Home</a></li><li class="active"><a href="#">Documentation</a></li></ul><ul class="nav navbar-nav navbar-right"><li><a href="https://github.com/eluv-io/elv-js-helpers">GitHub</a></li></ul></div></header><aside class="sidebar container-fluid"><div class="filter"><div class="has-feedback"><input class="form-control" id="name-filter" tabindex="1" placeholder="Filter" type="text" data-bind="textInput: filter" autocomplete="false" autofocus><span class="form-control-feedback"><span class="glyphicon glyphicon-search"></span></span></div><div class="has-feedback"><div class="form-check" id="show-private-group"><input class="form-check-input" id="show-private" tabindex="2" type="checkbox" data-bind="textInput: showPrivate"><label class="form-check-label" id="show-private-label" for="show-private">Show private</label></div></div></div><ul class="nav nav-pills nav-stacked toc"><li class="toc-entry" data-name="_assertBoundedBetween" data-category="ModelAssertion" data-access="private" display="none"><a href="#_assertBoundedBetween">_assertBoundedBetween<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="_assertBoundedLower" data-category="ModelAssertion" data-access="private" display="none"><a href="#_assertBoundedLower">_assertBoundedLower<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="_assertBoundedUpper" data-category="ModelAssertion" data-access="private" display="none"><a href="#_assertBoundedUpper">_assertBoundedUpper<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="_assertNothing" data-category="ModelAssertion" data-access="private" display="none"><a href="#_assertNothing">_assertNothing<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="_assertWithPrecheck" data-category="ModelAssertion" data-access="private" display="none"><a href="#_assertWithPrecheck">_assertWithPrecheck<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="_boundDescBetween" data-category="Miscellaneous" data-access="private" display="none"><a href="#_boundDescBetween">_boundDescBetween<span class="label label-category pull-right" data-category="Miscellaneous">Miscellaneous</span></a></li><li class="toc-entry" data-name="_boundDescLower" data-category="Miscellaneous" data-access="private" display="none"><a href="#_boundDescLower">_boundDescLower<span class="label label-category pull-right" data-category="Miscellaneous">Miscellaneous</span></a></li><li class="toc-entry" data-name="_boundDescUpper" data-category="Miscellaneous" data-access="private" display="none"><a href="#_boundDescUpper">_boundDescUpper<span class="label label-category pull-right" data-category="Miscellaneous">Miscellaneous</span></a></li><li class="toc-entry" data-name="_satisfiesBetweenBounds" data-category="Logic" data-access="private" display="none"><a href="#_satisfiesBetweenBounds">_satisfiesBetweenBounds<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="_satisfiesLowerBound" data-category="Logic" data-access="private" display="none"><a href="#_satisfiesLowerBound">_satisfiesLowerBound<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="_satisfiesUpperBound" data-category="Logic" data-access="private" display="none"><a href="#_satisfiesUpperBound">_satisfiesUpperBound<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="_throwIfErrNotArray" data-category="Validation" data-access="private" display="none"><a href="#_throwIfErrNotArray">_throwIfErrNotArray<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="_throwIfFalse" data-category="Validation" data-access="private" display="none"><a href="#_throwIfFalse">_throwIfFalse<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="_throwIfNotErr" data-category="Validation" data-access="private" display="none"><a href="#_throwIfNotErr">_throwIfNotErr<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="_throwIfNotResult" data-category="Validation" data-access="private" display="none"><a href="#_throwIfNotResult">_throwIfNotResult<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="_throwIfTrue" data-category="Validation" data-access="private" display="none"><a href="#_throwIfTrue">_throwIfTrue<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="_toLocaleString" data-category="Time" data-access="private" display="none"><a href="#_toLocaleString">_toLocaleString<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="_typeWithOkErr" data-category="Functional" data-access="private" display="none"><a href="#_typeWithOkErr">_typeWithOkErr<span class="label label-category pull-right" data-category="Functional">Functional</span></a></li><li class="toc-entry" data-name="assertBounded" data-category="ModelAssertion" data-access="public" display=""><a href="#assertBounded">assertBounded<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="assertionErrMsg" data-category="ModelAssertion" data-access="public" display=""><a href="#assertionErrMsg">assertionErrMsg<span class="label label-category pull-right" data-category="ModelAssertion">ModelAssertion</span></a></li><li class="toc-entry" data-name="boolsToInt" data-category="Conversion" data-access="public" display=""><a href="#boolsToInt">boolsToInt<span class="label label-category pull-right" data-category="Conversion">Conversion</span></a></li><li class="toc-entry" data-name="BoundedNumberModel" data-category="ModelFactory" data-access="public" display=""><a href="#BoundedNumberModel">BoundedNumberModel<span class="label label-category pull-right" data-category="ModelFactory">ModelFactory</span></a></li><li class="toc-entry" data-name="compare" data-category="Functional" data-access="public" display=""><a href="#compare">compare<span class="label label-category pull-right" data-category="Functional">Functional</span></a></li><li class="toc-entry" data-name="estTotalDuration" data-category="Time" data-access="public" display=""><a href="#estTotalDuration">estTotalDuration<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="etaDurationStr" data-category="Time" data-access="public" display=""><a href="#etaDurationStr">etaDurationStr<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="etaTimeStr" data-category="Time" data-access="public" display=""><a href="#etaTimeStr">etaTimeStr<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="isArray" data-category="Logic" data-access="public" display=""><a href="#isArray">isArray<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="isErr" data-category="Logic" data-access="public" display=""><a href="#isErr">isErr<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="isOfKind" data-category="Logic" data-access="public" display=""><a href="#isOfKind">isOfKind<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="isOk" data-category="Logic" data-access="public" display=""><a href="#isOk">isOk<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="isResult" data-category="Logic" data-access="public" display=""><a href="#isResult">isResult<span class="label label-category pull-right" data-category="Logic">Logic</span></a></li><li class="toc-entry" data-name="NonNegativeNumberModel" data-category="Model" data-access="public" display=""><a href="#NonNegativeNumberModel">NonNegativeNumberModel<span class="label label-category pull-right" data-category="Model">Model</span></a></li><li class="toc-entry" data-name="NumberModel" data-category="Model" data-access="public" display=""><a href="#NumberModel">NumberModel<span class="label label-category pull-right" data-category="Model">Model</span></a></li><li class="toc-entry" data-name="NumberZeroToOneModel" data-category="Model" data-access="public" display=""><a href="#NumberZeroToOneModel">NumberZeroToOneModel<span class="label label-category pull-right" data-category="Model">Model</span></a></li><li class="toc-entry" data-name="PositiveNumberModel" data-category="Model" data-access="public" display=""><a href="#PositiveNumberModel">PositiveNumberModel<span class="label label-category pull-right" data-category="Model">Model</span></a></li><li class="toc-entry" data-name="resultToPOJO" data-category="Conversion" data-access="public" display=""><a href="#resultToPOJO">resultToPOJO<span class="label label-category pull-right" data-category="Conversion">Conversion</span></a></li><li class="toc-entry" data-name="resultUnwrap" data-category="Functional" data-access="public" display=""><a href="#resultUnwrap">resultUnwrap<span class="label label-category pull-right" data-category="Functional">Functional</span></a></li><li class="toc-entry" data-name="sysLocale" data-category="Time" data-access="public" display=""><a href="#sysLocale">sysLocale<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="sysTimezone" data-category="Time" data-access="public" display=""><a href="#sysTimezone">sysTimezone<span class="label label-category pull-right" data-category="Time">Time</span></a></li><li class="toc-entry" data-name="test" data-category="Validation" data-access="public" display=""><a href="#test">test<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="throwError" data-category="Miscellaneous" data-access="public" display=""><a href="#throwError">throwError<span class="label label-category pull-right" data-category="Miscellaneous">Miscellaneous</span></a></li><li class="toc-entry" data-name="truthTable" data-category="Functional" data-access="public" display=""><a href="#truthTable">truthTable<span class="label label-category pull-right" data-category="Functional">Functional</span></a></li><li class="toc-entry" data-name="validator" data-category="Validation" data-access="public" display=""><a href="#validator">validator<span class="label label-category pull-right" data-category="Validation">Validation</span></a></li><li class="toc-entry" data-name="wrapNonArray" data-category="Conversion" data-access="public" display=""><a href="#wrapNonArray">wrapNonArray<span class="label label-category pull-right" data-category="Conversion">Conversion</span></a></li></ul></aside><main class="container-fluid"><div class="section-id" id="_assertBoundedBetween"></div><section class="card" data-name="_assertBoundedBetween" data-access="private" data-category="ModelAssertion" display="none"><h2><a class="name" tabindex="3" href="#_assertBoundedBetween">_assertBoundedBetween</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_assertBoundedBetween.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>((Boolean, *, String) → String) ObjectModelErrMsgFn =&gt; Model → a → a → Boolean → Boolean → [(* → Boolean), ObjectModelErrMsgFn | String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to be bounded</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">lowerBound</span><span class="description"><p>The lower bound that must be satisfied.</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"><p>The upper bound that must be satisfied.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">lowerInclusive</span><span class="description"><p>If <code>true</code> then input is allowed to equal <code>lowerBound</code>.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">upperInclusive</span><span class="description"><p>If <code>true</code> then input is allowed to equal <code>upperBound</code>.</p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>Function used to compare input against <code>lowerBound</code> and <code>upperBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.
This enables adding bounds to a model type that cannot be compared using Javascript's
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Less_than">less than (&lt;)</a> operator.</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, Function]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The first element is a function that will take an input and return:</p>
<ul>
<li><code>true</code> if the input satisfies the specified bounds OR <strong>the input is not a valid instance of the specified model to be bounded</strong></li>
<li><code>false</code> if the input <strong>is a valid instance of the specified model</strong> AND violates the specified bounds.</li>
</ul>
<p>This means that the assertion will PASS if the input is not a valid instance of the model to be bounded. The purpose
of this is to prevent redundant errors, e.g. 'foo' is not a Number, 'foo' must be &gt; 0 and &lt; 42.</p>
<p>The second element is a function to be <a href="https://github.com/sylvainpolletvillard/ObjectModel/blob/9e890fc5ed5ad98e477a2144f1a925d740687ee3/src/object-model.js#L164">called</a>
by <a href="http://objectmodel.js.org/">ObjectModel</a> to construct an error message if the bounds validation fails.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

<span class="hljs-comment">// Note use of spread operator (...) to unpack the array returned by _assertBoundedLower()</span>
<span class="hljs-keyword">const</span> CartonEggCountModel = IntegerModel.extend()
  .assert(..._assertBoundedBetween(IntegerModel, <span class="hljs-number">0</span>, <span class="hljs-number">12</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, compare)
  .as(<span class="hljs-string">&#x27;CartonEggCount&#x27;</span>)</code></pre></section><div class="section-id" id="_assertBoundedLower"></div><section class="card" data-name="_assertBoundedLower" data-access="private" data-category="ModelAssertion" display="none"><h2><a class="name" tabindex="3" href="#_assertBoundedLower">_assertBoundedLower</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_assertBoundedLower.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>((Boolean, *, String) → String) ObjectModelErrMsgFn =&gt; Model → a → Boolean → [(* → Boolean), ObjectModelErrMsgFn | String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to be bounded</p></span></li><li class="list-group-item"><span class="type">*</span><span class="name">lowerBound</span><span class="description"><p>The lower bound that must be satisfied.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>If <code>true</code> (and <code>lowerBound</code> is not <code>null</code>) then input is allowed to equal <code>lowerBound</code>.</p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>Function used to compare input against <code>lowerBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.
This enables adding bounds to a model type that cannot be compared using Javascript's
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Less_than">less than (&lt;)</a> operator.</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, Function]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The first element is a function that will take an input and return:</p>
<ul>
<li><code>true</code> if the input satisfies the specified bound OR <strong>the input is not a valid instance of the specified model to be bounded</strong></li>
<li><code>false</code> if the input <strong>is a valid instance of the specified model</strong> AND violates the specified bound.</li>
</ul>
<p>This means that the assertion will PASS if the input is not a valid instance of the model to be bounded. The purpose
of this is to prevent redundant errors, e.g. 'foo' is not a Number, 'foo' must be &gt; 1.</p>
<p>The second element is a function to be <a href="https://github.com/sylvainpolletvillard/ObjectModel/blob/9e890fc5ed5ad98e477a2144f1a925d740687ee3/src/object-model.js#L164">called</a>
by <a href="http://objectmodel.js.org/">ObjectModel</a> to construct an error message if the bounds validation fails.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

<span class="hljs-comment">// Note use of spread operator (...) to unpack the array returned by _assertBoundedLower()</span>
<span class="hljs-keyword">const</span> BaseballTeamSizeModel = IntegerModel.extend()
  .assert(..._assertBoundedLower(IntegerModel, <span class="hljs-number">9</span>, <span class="hljs-literal">true</span>, compare)
  .as(<span class="hljs-string">&#x27;BaseballTeamSize&#x27;</span>)</code></pre></section><div class="section-id" id="_assertBoundedUpper"></div><section class="card" data-name="_assertBoundedUpper" data-access="private" data-category="ModelAssertion" display="none"><h2><a class="name" tabindex="3" href="#_assertBoundedUpper">_assertBoundedUpper</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_assertBoundedUpper.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>((Boolean, *, String) → String) ObjectModelErrMsgFn =&gt; Model → a → Boolean → [(* → Boolean), ObjectModelErrMsgFn | String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to be bounded</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"><p>The upper bound that must be satisfied.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>If <code>true</code> (and <code>upperBound</code> is not <code>null</code>) then input is allowed to equal <code>upperBound</code>.</p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>Function used to compare input against <code>upperBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.
This enables adding bounds to a model type that cannot be compared using Javascript's
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Less_than">less than (&lt;)</a> operator.</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, Function]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The first element is a function that will take an input and return:</p>
<ul>
<li><code>true</code> if the input satisfies the specified bound OR <strong>the input is not a valid instance of the specified model to be bounded</strong></li>
<li><code>false</code> if the input <strong>is a valid instance of the specified model</strong> AND violates the specified bound.</li>
</ul>
<p>This means that the assertion will PASS if the input is not a valid instance of the model to be bounded. The purpose
of this is to prevent redundant errors, e.g. 'foo' is not a Number, 'foo' must be &lt; 42.</p>
<p>The second element is a function to be <a href="https://github.com/sylvainpolletvillard/ObjectModel/blob/9e890fc5ed5ad98e477a2144f1a925d740687ee3/src/object-model.js#L164">called</a>
by <a href="http://objectmodel.js.org/">ObjectModel</a> to construct an error message if the bounds validation fails.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

<span class="hljs-comment">// Note use of spread operator (...) to unpack the array returned by _assertBoundedUpper()</span>
<span class="hljs-keyword">const</span> NegativeIntegerModel = IntegerModel.extend()
  .assert(..._assertBoundedUpper(IntegerModel, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>, compare)
  .as(<span class="hljs-string">&#x27;NegativeInteger&#x27;</span>)</code></pre></section><div class="section-id" id="_assertNothing"></div><section class="card" data-name="_assertNothing" data-access="private" data-category="ModelAssertion" display="none"><h2><a class="name" tabindex="3" href="#_assertNothing">_assertNothing</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_assertNothing.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>() → [(* → Boolean), String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, String]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The returned assertion will always pass, and the error message (which will never be used) is an empty string.</p></div><pre><code class="hljs javascript">_assertNothing() <span class="hljs-comment">//=&gt; [x =&gt; true, &#x27;&#x27;]</span></code></pre></section><div class="section-id" id="_assertWithPrecheck"></div><section class="card" data-name="_assertWithPrecheck" data-access="private" data-category="ModelAssertion" display="none"><h2><a class="name" tabindex="3" href="#_assertWithPrecheck">_assertWithPrecheck</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_assertWithPrecheck.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>((Boolean, *, String) → String) ObjectModelErrMsgFn =&gt; Model → (a → Boolean) → String → [(* → Boolean), ObjectModelErrMsgFn | String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to be bounded</p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">assertFn</span><span class="description"><p>The lower bound that must be satisfied. If <code>null</code>, no lower bound will be checked.</p></span></li><li class="list-group-item"><span class="type">String</span><span class="name">msg</span><span class="description"><p>The upper bound that must be satisfied. If <code>null</code>, no upper bound will be checked.</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, Function | String]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The first element is a function that will take an input and return:</p>
<ul>
<li><code>true</code> if <code>assertFn</code> returns <code>true</code> for the input OR <strong>the input is not a valid instance of <code>model</code></strong></li>
<li><code>false</code> if the input <strong>is a valid instance of <code>model</code></strong> AND <code>assertFn</code> returns <code>false</code> for the input</li>
</ul>
<p>This means that <code>assertFn</code> will only be called if the input first passes validation for <code>model</code>, otherwise <code>true</code>
will always be returned (the input is ignored if it not a valid instance of <code>model</code>). The purpose of this is to
prevent redundant errors, e.g. 'foo' is not a Number, 'foo' must be &lt; 1.</p>
<p>The second element is either an error string or a function to generate an error message. If it is a function, it will
get called by ObjectModel when it validates a model and fails, passing in the assertion result (generally <code>false</code>),
the failing value, and any attribute name(s) that were traversed to access the value.</p></div><pre><code class="hljs javascript">foo</code></pre></section><div class="section-id" id="_boundDescBetween"></div><section class="card" data-name="_boundDescBetween" data-access="private" data-category="Miscellaneous" display="none"><h2><a class="name" tabindex="3" href="#_boundDescBetween">_boundDescBetween</a><span class="pull-right"><span class="label label-category">Miscellaneous</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_boundDescBetween.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → a → Boolean → Boolean → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">lowerBound</span><span class="description"></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">lowerInclusive</span><span class="description"><p>Whether values are allowed to equal <code>lowerBound</code></p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">upperInclusive</span><span class="description"><p>Whether values are allowed to equal <code>upperBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a description of an upper bound condition</p></div><pre><code class="hljs javascript">_boundDescBetween(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>)     <span class="hljs-comment">//=&gt; &#x27;must be &gt;= 0 and &lt;= 42&#x27;</span>

_boundDescBetween(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>)   <span class="hljs-comment">//=&gt; &#x27;must be &gt; 0 and &lt; 42&#x27;</span></code></pre></section><div class="section-id" id="_boundDescLower"></div><section class="card" data-name="_boundDescLower" data-access="private" data-category="Miscellaneous" display="none"><h2><a class="name" tabindex="3" href="#_boundDescLower">_boundDescLower</a><span class="pull-right"><span class="label label-category">Miscellaneous</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_boundDescLower.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">lowerBound</span><span class="description"></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>Whether values are allowed to equal <code>lowerBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a description of a lower bound condition</p></div><pre><code class="hljs javascript">_boundDescLower(<span class="hljs-number">42</span>, <span class="hljs-literal">true</span>)   <span class="hljs-comment">//=&gt; &#x27;must be &gt;= 42&#x27;</span>

_boundDescLower(<span class="hljs-number">42</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">//=&gt; &#x27;must be &gt; 42&#x27;</span></code></pre></section><div class="section-id" id="_boundDescUpper"></div><section class="card" data-name="_boundDescUpper" data-access="private" data-category="Miscellaneous" display="none"><h2><a class="name" tabindex="3" href="#_boundDescUpper">_boundDescUpper</a><span class="pull-right"><span class="label label-category">Miscellaneous</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_boundDescUpper.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>Whether values are allowed to equal <code>upperBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a description of an upper bound condition</p></div><pre><code class="hljs javascript">_boundDescUpper(<span class="hljs-number">42</span>, <span class="hljs-literal">true</span>)   <span class="hljs-comment">//=&gt; &#x27;must be &lt;= 42&#x27;</span>

_boundDescUpper(<span class="hljs-number">42</span>, <span class="hljs-literal">false</span>)  <span class="hljs-comment">//=&gt; &#x27;must be &lt; 42&#x27;</span></code></pre></section><div class="section-id" id="_satisfiesBetweenBounds"></div><section class="card" data-name="_satisfiesBetweenBounds" data-access="private" data-category="Logic" display="none"><h2><a class="name" tabindex="3" href="#_satisfiesBetweenBounds">_satisfiesBetweenBounds</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_satisfiesBetweenBounds.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean → ((a, a) → Integer) → a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">lowerBound</span><span class="description"><p>the lower bound to be satisfied</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"><p>the upper bound to be satisfied</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">lowerInclusive</span><span class="description"><p>if <code>true</code>, then <code>value</code> is allowed equal <code>lowerBound</code></p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">upperInclusive</span><span class="description"><p>if <code>true</code>, then <code>value</code> is allowed equal <code>upperBound</code></p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>The function to be used to compare <code>value</code> with <code>lowerBound</code> and <code>upperBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">value</span><span class="description"><p>The item to check against <code>lowerBound</code> and <code>upperBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if <code>value</code> satisfies specified bounds, <code>false</code> otherwise</p>
<p>If called with fewer than 4 arguments, will return a <a href="https://mostly-adequate.gitbook.io/mostly-adequate-guide/ch04">partially applied function</a></p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

_satisfiesBetweenBounds(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">42</span>)    <span class="hljs-comment">//=&gt; true</span>

_satisfiesBetweenBounds(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">0</span>)     <span class="hljs-comment">//=&gt; true</span>

_satisfiesBetweenBounds(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, compare, -<span class="hljs-number">1</span>)    <span class="hljs-comment">//=&gt; false</span>

_satisfiesBetweenBounds(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, compare, <span class="hljs-number">0</span>)   <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="_satisfiesLowerBound"></div><section class="card" data-name="_satisfiesLowerBound" data-access="private" data-category="Logic" display="none"><h2><a class="name" tabindex="3" href="#_satisfiesLowerBound">_satisfiesLowerBound</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_satisfiesLowerBound.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean → ((a, a) → Integer) → a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">lowerBound</span><span class="description"><p>the lower bound to be satisfied</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>if <code>true</code>, then <code>value</code> is allowed equal <code>lowerBound</code></p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>The function to be used to compare <code>value</code> and <code>lowerBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">value</span><span class="description"><p>The item to check against <code>lowerBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if <code>value</code> satisfies specified bound, <code>false</code> otherwise</p>
<p>If called with fewer than 4 arguments, will return a <a href="https://mostly-adequate.gitbook.io/mostly-adequate-guide/ch04">partially applied function</a></p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

_satisfiesLowerBound(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">42</span>)   <span class="hljs-comment">//=&gt; true</span>

_satisfiesLowerBound(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">0</span>)    <span class="hljs-comment">//=&gt; true</span>

_satisfiesLowerBound(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>, compare, -<span class="hljs-number">1</span>)   <span class="hljs-comment">//=&gt; false</span>

_satisfiesLowerBound(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>, compare, <span class="hljs-number">0</span>)   <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="_satisfiesUpperBound"></div><section class="card" data-name="_satisfiesUpperBound" data-access="private" data-category="Logic" display="none"><h2><a class="name" tabindex="3" href="#_satisfiesUpperBound">_satisfiesUpperBound</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_satisfiesUpperBound.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean → ((a, a) → Integer) → a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">upperBound</span><span class="description"><p>the upper bound to be satisfied</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">inclusive</span><span class="description"><p>if <code>true</code>, then <code>value</code> is allowed equal <code>upperBound</code></p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>The function to be used to compare <code>value</code> and <code>upperBound</code>.
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">value</span><span class="description"><p>The item to check against <code>upperBound</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if <code>value</code> satisfies specified bound, <code>false</code> otherwise</p>
<p>If called with fewer than 4 arguments, will return a <a href="https://mostly-adequate.gitbook.io/mostly-adequate-guide/ch04">partially applied function</a></p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> compare = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/compare&#x27;</span>)

_satisfiesUpperBound(<span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">42</span>)   <span class="hljs-comment">//=&gt; false</span>

_satisfiesUpperBound(<span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, compare, <span class="hljs-number">0</span>)    <span class="hljs-comment">//=&gt; true</span>

_satisfiesUpperBound(<span class="hljs-number">42</span>, <span class="hljs-literal">true</span>, compare, -<span class="hljs-number">1</span>)   <span class="hljs-comment">//=&gt; true</span>

_satisfiesUpperBound(<span class="hljs-number">42</span>, <span class="hljs-literal">false</span>, compare, <span class="hljs-number">42</span>)  <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="_throwIfErrNotArray"></div><section class="card" data-name="_throwIfErrNotArray" data-access="private" data-category="Validation" display="none"><h2><a class="name" tabindex="3" href="#_throwIfErrNotArray">_throwIfErrNotArray</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_throwIfErrNotArray.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>* → Err e | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">*</span><span class="name">x</span><span class="description"><p>the value to check (should be an Err instance)</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Err</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception if input is not a <a href="https://crocks.dev/docs/crocks/Result.html#err">Crocks Err</a> instance that
wraps an array. Otherwise returns the <code>Err</code> unchanged.</p>
<p>Used to provide a clearer exception message if an Err is encountered that does not wrap an array.</p></div><pre><code class="hljs javascript">_throwIfErrNotArray(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>]) <span class="hljs-comment">//=&gt; Err([&#x27;invalid query&#x27;])</span>

_throwIfErrNotArray(Err(<span class="hljs-string">&#x27;invalid query&#x27;</span>)   <span class="hljs-comment">//=&gt; EXCEPTION: &quot;Err instance does not contain an array, instead contains: string (invalid query)&quot;</span>

_throwIfErrNotArray(Ok(<span class="hljs-number">42</span>))                <span class="hljs-comment">//=&gt; EXCEPTION: &quot;Expected an Err, got: Ok (Ok 42)&quot;</span>

_throwIfErrNotArray(<span class="hljs-number">42</span>)                    <span class="hljs-comment">//=&gt; EXCEPTION: &quot;Expected an Err, got: Number (42)&quot;</span></code></pre></section><div class="section-id" id="_throwIfFalse"></div><section class="card" data-name="_throwIfFalse" data-access="private" data-category="Validation" display="none"><h2><a class="name" tabindex="3" href="#_throwIfFalse">_throwIfFalse</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_throwIfFalse.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → a → a | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">message</span><span class="description"><p>the error message to use in the exception</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">value</span><span class="description"><p>the value to check for falsiness</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Any</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception with the specified message if a
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> value is passed in.
Otherwise returns the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy</a> value unchanged.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> PASSWORD_REGEX = <span class="hljs-regexp">/[A-Z]{42}/</span>
<span class="hljs-keyword">const</span> password = <span class="hljs-string">&#x27;foo&#x27;</span>
_throwIfFalse(<span class="hljs-string">&#x27;password must be 42 upper-case letters&#x27;</span>, PASSWORD_REGEX.test(password)) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;password must be 42 upper-case letters&#x27;</span></code></pre></section><div class="section-id" id="_throwIfNotErr"></div><section class="card" data-name="_throwIfNotErr" data-access="private" data-category="Validation" display="none"><h2><a class="name" tabindex="3" href="#_throwIfNotErr">_throwIfNotErr</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_throwIfNotErr.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Err a | b → Err a | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>the value to check</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Err</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception if anything but a <a href="https://crocks.dev/docs/crocks/Result.html#err">Crocks Err</a> is passed in.
Otherwise returns the <code>Err</code> unchanged.</p></div><pre><code class="hljs javascript">_throwIfNotErr(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Expected an Err, got: Number (42)&#x27;</span></code></pre></section><div class="section-id" id="_throwIfNotResult"></div><section class="card" data-name="_throwIfNotResult" data-access="private" data-category="Validation" display="none"><h2><a class="name" tabindex="3" href="#_throwIfNotResult">_throwIfNotResult</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_throwIfNotResult.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Result a | b → Result a | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>the value to check</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Result</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception if anything but a <a href="https://crocks.dev/docs/crocks/Result.html">Crocks Result</a> is passed in.
Otherwise returns the <code>Result</code> unchanged.</p></div><pre><code class="hljs javascript">_throwIfNotResult(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Expected a value of type Result, got: Number (42)&#x27;</span></code></pre></section><div class="section-id" id="_throwIfTrue"></div><section class="card" data-name="_throwIfTrue" data-access="private" data-category="Validation" display="none"><h2><a class="name" tabindex="3" href="#_throwIfTrue">_throwIfTrue</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_throwIfTrue.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → a → a | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">message</span><span class="description"><p>the error message to use in the exception</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">value</span><span class="description"><p>the value to check for truthiness</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Any</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception with the specified message if a
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy</a> value is passed in.
Otherwise returns the <a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">falsy</a> value unchanged.</p></div><pre><code class="hljs javascript">_throwIfTrue(<span class="hljs-string">&#x27;division by zero&#x27;</span>, x === <span class="hljs-number">0</span>) /=&gt; EXCEPTION: <span class="hljs-string">&quot;division by zero&quot;</span></code></pre></section><div class="section-id" id="_toLocaleString"></div><section class="card" data-name="_toLocaleString" data-access="private" data-category="Time" display="none"><h2><a class="name" tabindex="3" href="#_toLocaleString">_toLocaleString</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_toLocaleString.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → (DateTime → String)</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name"></span><span class="description"><p>The Luxon DateTime format to use when invoking <code>DateTime#toLocaleString()</code></p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">function</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a function that will accept a <a href="https://moment.github.io/luxon/#/">Luxon DateTime</a> object and return a string
obtained by invoking its <code>toLocaleString()</code> method with the specified Luxon DateTime
<a href="https://moment.github.io/luxon/api-docs/index.html#datetimedate_short">format</a></p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> {DateTime} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;luxon&#x27;</span>)
<span class="hljs-keyword">const</span> fullDateString = _toLocaleString(DateTime.DATE_FULL)
<span class="hljs-keyword">const</span> myDate = DateTime.fromISO(<span class="hljs-string">&#x27;2022-01-01T01:00:00&#x27;</span>, {<span class="hljs-attr">zone</span>: <span class="hljs-string">&#x27;utc&#x27;</span>}).setLocale(<span class="hljs-string">&#x27;en-US&#x27;</span>)

fullDateString(myDate) <span class="hljs-comment">//=&gt; &quot;January 1, 2022&quot;</span></code></pre></section><div class="section-id" id="_typeWithOkErr"></div><section class="card" data-name="_typeWithOkErr" data-access="private" data-category="Functional" display="none"><h2><a class="name" tabindex="3" href="#_typeWithOkErr">_typeWithOkErr</a><span class="pull-right"><span class="label label-category">Functional</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/_typeWithOkErr.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>&quot;Ok&quot;</code> if passed a <a href="https://crocks.dev/docs/crocks/Result.html#ok">Crocks Ok</a>.
Returns <code>&quot;Err&quot;</code> if passed a <a href="https://crocks.dev/docs/crocks/Result.html#err">Crocks Err</a>.
Returns <code>type(x)</code> if passed anything else <a href="https://github.com/evilsoft/crocks/blob/master/src/core/type.js">https://github.com/evilsoft/crocks/blob/master/src/core/type.js</a></p>
<p>Enables distinguishing between 'Err' and 'Ok' when examining <code>Result</code> instances.</p>
<p><strong>NOTE:</strong> Use <a href="https://github.com/jonschlinkert/kind-of">kind-of</a> if you need to check type of anything other than
a <a href="https://crocks.dev/docs/crocks/">Crocks ADT</a> instance.</p></div><pre><code class="hljs javascript">_typeWithOkErr(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>])) <span class="hljs-comment">//=&gt; &quot;Err&quot;</span>

_typeWithOkErr(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; &quot;Ok&quot;</span>

_typeWithOkErr(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; &quot;String&quot;</span></code></pre></section><div class="section-id" id="assertBounded"></div><section class="card" data-name="assertBounded" data-access="public" data-category="ModelAssertion" display=""><h2><a class="name" tabindex="3" href="#assertBounded">assertBounded</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/assertBounded.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>((Boolean, *, String) → String) ObjectModelErrMsgFn =&gt; Model → a → a → Boolean → Boolean → [(* → Boolean), ObjectModelErrMsgFn | String]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to be bounded</p></span></li><li class="list-group-item"><span class="type">*</span><span class="name">lowerBound</span><span class="description"><p>The lower bound that must be satisfied. If <code>null</code>, no lower bound will be checked.</p></span></li><li class="list-group-item"><span class="type">*</span><span class="name">upperBound</span><span class="description"><p>The upper bound that must be satisfied. If <code>null</code>, no upper bound will be checked.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">lowerInclusive</span><span class="description"><p>If <code>true</code> (and <code>lowerBound</code> is not <code>null</code>) then input is allowed to equal <code>lowerBound</code>.</p></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">upperInclusive</span><span class="description"><p>If <code>true</code> (and <code>upperBound</code> is not <code>null</code>) then input is allowed to equal <code>upperBound</code>.</p></span></li><li class="list-group-item"><span class="type">function</span><span class="name">comparatorFn</span><span class="description"><p>Function used to compare the input against bound(s).
Must accept two values and return -1 if first value is less than the second,
1 if the second value is less than the first, and zero otherwise.
This enables adding bounds to a model type that cannot be compared using Javascript's
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Less_than">less than (&lt;)</a> operator.</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Array</span><span class="description"><p>2-element array [Function, Function | String]. See description for details.</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a 2-element array for use in an <a href="http://objectmodel.js.org/#doc-assertions">ObjectModel assertion</a></p>
<p>The first element is a function that will take an input and return:</p>
<ul>
<li><code>true</code> if the input satisfies the specified bound(s) OR <strong>the input is not a valid instance of the specified model to be bounded</strong></li>
<li><code>false</code> if the input <strong>is a valid instance of the specified model</strong> AND violates the specified bound(s)</li>
</ul>
<p>This means that the assertion will PASS if the input is not a valid instance of the model to be bounded. The purpose
of this is to prevent redundant errors, e.g. 'foo' is not a Number, 'foo' must be &lt; 1.</p>
<p>The second element is either an error string or a function to generate an error message. If it is a function, it will
get called by ObjectModel when it validates a model and fails, passing in the assertion result (generally <code>false</code>),
the failing value, and any attribute name(s) that were traversed to access the value.</p></div><pre><code class="hljs javascript"><span class="hljs-comment">// Note use of spread operator (...) to unpack the array returned by assertBounded()</span>
<span class="hljs-keyword">const</span> NumberBetweenZeroAndOneModel = NumberModel.extend()
  .assert(...assertBounded(NumberModel, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>))
  .as(<span class="hljs-string">&#x27;NumberBetweenZeroAndOne&#x27;</span>)<span class="hljs-string">`</span></code></pre></section><div class="section-id" id="assertionErrMsg"></div><section class="card" data-name="assertionErrMsg" data-access="public" data-category="ModelAssertion" display=""><h2><a class="name" tabindex="3" href="#assertionErrMsg">assertionErrMsg</a><span class="pull-right"><span class="label label-category">ModelAssertion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/assertionErrMsg.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → ((Boolean, *, String) → String)</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">msg</span><span class="description"><p>Error message describing the assertion condition that was not met</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">function</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a function to be <a href="https://github.com/sylvainpolletvillard/ObjectModel/blob/9e890fc5ed5ad98e477a2144f1a925d740687ee3/src/object-model.js#L164">called</a>
by <a href="http://objectmodel.js.org/">ObjectModel</a> to construct an error message when a particular assertion fails during
validation.</p>
<p>Pass in a string describing the condition that was not met, e.g. 'must equal 42', and you will
get back a function can be used to generate a full error message at runtime.</p>
<p>If the assertion that was passed in as the first argument to <code>ObjectModel.assert()</code> fails, the error message
generating function will be called with the assertion result (generally <code>false</code>), the failing value, and any
attribute name(s) that were traversed to access the value.</p>
<p>This allows the error message to include the attribute name (if available) and the bad value in the error message,
e.g. 'Value must equal 42 (got: 43)'</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> AnswerToEverythingModel = NumberModel.extend()
  .assert(
    <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x === <span class="hljs-number">42</span>,
    assertionErrMsg(<span class="hljs-string">&#x27;must equal 42&#x27;</span>)
  )
  .as(<span class="hljs-string">&#x27;AnswerToEverything&#x27;</span>)

<span class="hljs-keyword">const</span> myAnswer = AnswerToEverythingModel(<span class="hljs-number">43</span>)  <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Value must equal 42 (got: 43)&#x27;</span></code></pre></section><div class="section-id" id="boolsToInt"></div><section class="card" data-name="boolsToInt" data-access="public" data-category="Conversion" display=""><h2><a class="name" tabindex="3" href="#boolsToInt">boolsToInt</a><span class="pull-right"><span class="label label-category">Conversion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/boolsToInt.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>[Boolean] → Integer</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Array.&lt;Boolean&gt;</span><span class="name">boolArray</span><span class="description"><p>An array of booleans representing binary digits of a non-negative integer (most significant bit first)</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Integer</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Converts an array of booleans to a number by interpreting them as binary digits (most significant bits first)</p></div><pre><code class="hljs javascript">boolsToInt([<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>]) <span class="hljs-comment">//=&gt; 1</span>

boolsToInt([<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]) <span class="hljs-comment">//=&gt; 2</span></code></pre></section><div class="section-id" id="BoundedNumberModel"></div><section class="card" data-name="BoundedNumberModel" data-access="public" data-category="ModelFactory" display=""><h2><a class="name" tabindex="3" href="#BoundedNumberModel">BoundedNumberModel</a><span class="pull-right"><span class="label label-category">ModelFactory</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/BoundedNumberModel.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → (Number | null) → (Number | null) → (Boolean | null) →  (Boolean | null) → (* → Model | THROW)</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">name</span><span class="description"><p>the name of the generated model</p></span></li><li class="list-group-item"><span class="type">Number</span><span class="name">lowerBound</span><span class="description"><ul>
<li></li>
</ul></span></li><li class="list-group-item"><span class="type">Number</span><span class="name">upperBound</span><span class="description"><ul>
<li></li>
</ul></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">lowerInclusive</span><span class="description"><ul>
<li></li>
</ul></span></li><li class="list-group-item"><span class="type">Boolean</span><span class="name">upperInclusive</span><span class="description"><ul>
<li></li>
</ul></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Model</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns an <a href="http://objectmodel.js.org/">ObjectModel</a> which will validate that an input is:</p>
<ul>
<li>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Javascript Number</a></li>
<li>Is greater than a specified lower bound (if specified) or is equal to the lower bound (if inclusivity is specified)</li>
<li>Is less than a specified upper bound (if specified) or is equal to the upper bound (if inclusivity is specified)</li>
</ul>
<p>Note that it is possible to specify no bounds at all, in which case the returned model will only check that input is
a number.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> HumanHeightMetersModel = BoundedNumberModel(<span class="hljs-string">&#x27;HumanHeightMeters&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>)

HumanHeightMetersModel(<span class="hljs-number">0</span>)     <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;HumanHeightMeters: Value must be &gt; 0 (got: 0)&#x27;</span>

HumanHeightMetersModel(<span class="hljs-number">1.5</span>)   <span class="hljs-comment">//=&gt; 1.5 // Proxied by ObjectModel</span>

HumanHeightMetersModel(<span class="hljs-number">4</span>)     <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;HumanHeightMeters: Value must be &lt;= 3 (got: 4)&#x27;</span>

HumanHeightMetersModel(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;HumanHeightMeters: expecting Number, got String &quot;foo&quot;&#x27;</span></code></pre></section><div class="section-id" id="compare"></div><section class="card" data-name="compare" data-access="public" data-category="Functional" display=""><h2><a class="name" tabindex="3" href="#compare">compare</a><span class="pull-right"><span class="label label-category">Functional</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/compare.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → b → -1 | 0 | 1</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Integer</span><span class="description"><p>-1 | 0 | 1</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Compares two items <code>x</code> and <code>y</code> using Javascript's
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Less_than">less than (&lt;)</a>
operator, and returns:</p>
<ul>
<li><code>-1</code> if <code>x &lt; y</code></li>
<li><code>0</code> if <code>x == y</code> (more specifically, if neither <code>x &lt; y</code> nor <code>y &lt; x</code> are <code>true</code>)</li>
<li><code>1</code> if <code>y &lt; x</code></li>
</ul>
<p>Used as an input into sorting and validation functions.</p></div><pre><code class="hljs javascript">compare(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)            <span class="hljs-comment">//=&gt; -1</span>

compare(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)            <span class="hljs-comment">//=&gt; 0</span>

compare(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>)            <span class="hljs-comment">//=&gt; 1</span>

compare(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>)        <span class="hljs-comment">//=&gt; -1</span>

compare(<span class="hljs-literal">null</span>, <span class="hljs-literal">undefined</span>) <span class="hljs-comment">//=&gt; 0</span>

compare([<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;a&#x27;</span>)        <span class="hljs-comment">//= -1</span></code></pre></section><div class="section-id" id="estTotalDuration"></div><section class="card" data-name="estTotalDuration" data-access="public" data-category="Time" display=""><h2><a class="name" tabindex="3" href="#estTotalDuration">estTotalDuration</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/estTotalDuration.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Number → Number → Result [String] Number</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">number</span><span class="name">timeElapsed</span><span class="description"><p>The amount of time taken so far</p></span></li><li class="list-group-item"><span class="type">number</span><span class="name">portionComplete</span><span class="description"><p>A number between 0 and 1 (inclusive) representing progress</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">number</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Estimates total duration based on portion completed expressed as a number between 0 and 1 and time elapsed
The function is unit-agnostic, but for most uses timeElapsed is in seconds.</p>
<p>Returns a <a href="https://crocks.dev/docs/crocks/Result.html#ok">Crocks Ok</a> instance wrapping a number if calculation succeeds.
Returns a <a href="https://crocks.dev/docs/crocks/Result.html#err">Crocks Err</a> instance wrapping an array containing error string(s) if passed bad inputs.</p></div><pre><code class="hljs javascript">estTotalDuration(<span class="hljs-number">21</span>, <span class="hljs-number">0.5</span>)   <span class="hljs-comment">//=&gt; Ok 42</span>

estTotalDuration(<span class="hljs-number">42</span>, <span class="hljs-number">1</span>)     <span class="hljs-comment">//=&gt; Ok 42</span>

etaDurationStr(<span class="hljs-number">42</span>, <span class="hljs-number">0</span>)       <span class="hljs-comment">//=&gt; Err [&#x27;estTotalDuration: portionComplete must be &gt; 0 and &lt;= 1 (got: 0)&#x27;]</span>

etaDurationStr(<span class="hljs-number">0</span>, <span class="hljs-number">.1</span>)       <span class="hljs-comment">//=&gt; Err [&#x27;estTotalDuration: timeElapsed must be &gt; 0 (got: 0)&#x27;]</span>

etaDurationStr(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)        <span class="hljs-comment">//=&gt; Err [&#x27;estTotalDuration: timeElapsed must be &gt; 0 (got: 0)&#x27;, &#x27;estTotalDuration: portionComplete must be &gt; 0 and &lt;= 1 (got: 0)&#x27; ]</span>

etaDuration(-<span class="hljs-number">1</span>, <span class="hljs-number">.1</span>)         <span class="hljs-comment">//=&gt; Err [&#x27;estTotalDuration: timeElapsed must be &gt; 0 (got: -1)&#x27;]</span>

etaDuration(<span class="hljs-number">42</span>, <span class="hljs-number">42</span>)        <span class="hljs-comment">//=&gt; Err [&#x27;&quot;estTotalDuration: portionComplete must be &gt; 0 and &lt;= 1 (got: 42)&#x27;]</span></code></pre></section><div class="section-id" id="etaDurationStr"></div><section class="card" data-name="etaDurationStr" data-access="public" data-category="Time" display=""><h2><a class="name" tabindex="3" href="#etaDurationStr">etaDurationStr</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/etaDurationStr.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Number → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">number</span><span class="name">secondsLeft</span><span class="description"><p>The number of seconds remaining until completion</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">string</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns an ETA expressed as number of days/hours/minutes/seconds remaining, based on a supplied value for how many seconds are left.</p>
<p>Unneeded larger units are omitted, and zero padding is suppressed for first number.</p>
<p>If <code>secondsLeft</code> is negative, returns <code>'--'</code></p></div><pre><code class="hljs javascript">etaDurationStr(<span class="hljs-number">0</span>)      <span class="hljs-comment">//=&gt; &quot;0s&quot;</span>

etaDurationStr(<span class="hljs-number">1</span>)      <span class="hljs-comment">//=&gt; &quot;1s&quot;</span>

etaDurationStr(<span class="hljs-number">61</span>)     <span class="hljs-comment">//=&gt; &quot;1m 01s&quot;</span>

etaDurationStr(<span class="hljs-number">3661</span>)   <span class="hljs-comment">//=&gt; &quot;1h 01m 01s&quot;</span>

etaDurationStr(<span class="hljs-number">90061</span>)  <span class="hljs-comment">//=&gt; &quot;1d 01h 01m 01s&quot;</span>

etaDurationStr(<span class="hljs-number">954061</span>) <span class="hljs-comment">//=&gt; &quot;11d 01h 01m 01s&quot;</span>

etaDurationStr(-<span class="hljs-number">1</span>)     <span class="hljs-comment">//=&gt; &quot;--&quot;</span></code></pre></section><div class="section-id" id="etaTimeStr"></div><section class="card" data-name="etaTimeStr" data-access="public" data-category="Time" display=""><h2><a class="name" tabindex="3" href="#etaTimeStr">etaTimeStr</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/etaTimeStr.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Date → Number → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Date</span><span class="name">currentTime</span><span class="description"><p>Javascript Date object to use as current time.</p></span></li><li class="list-group-item"><span class="type">Number</span><span class="name">secondsLeft</span><span class="description"><p>The number of seconds remaining until completion</p></span></li><li class="list-group-item"><span class="type">String</span><span class="name">zone</span><span class="description"><p>The time zone in which to express ETA</p></span></li><li class="list-group-item"><span class="type">String</span><span class="name">locales</span><span class="description"><p>The locale to use to format ETA</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns an ETA time or datetime string based on a supplied value for current time and how many seconds are left.
The return string will include the month and day only if the ETA has a different date than <code>currentTime</code> (within the
specified time zone)</p>
<p>If <code>secondsLeft</code> is negative, returns <code>'--'</code></p>
<p>Otherwise,</p>
<ul>
<li>Bad values for <code>currentTime</code> / <code>zone</code> will return <code>'Invalid DateTime'</code></li>
<li>Unrecognized locale strings in <code>locales</code> will be ignored, and if none are recognized, it will be obtained from the system environment.</li>
<li>Passing in a value of incorrect type for <code>locales</code> will cause an exception.</li>
</ul></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> currentTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">&#x27;2022-01-01T07:30:00Z&#x27;</span>)

etaTimeStr(currentTime, <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;America/Los_Angeles&#x27;</span>, <span class="hljs-string">&#x27;en-US&#x27;</span>) <span class="hljs-comment">//=&gt; &quot;11:30:10 PM PST&quot;</span>

etaTimeStr(currentTime, <span class="hljs-number">3600</span>, <span class="hljs-string">&#x27;America/Los_Angeles&#x27;</span>, <span class="hljs-string">&#x27;en-US&#x27;</span>) <span class="hljs-comment">//=&gt; &quot;Jan 1, 12:30:00 AM PST&quot;</span>

etaTimeStr(currentTime, -<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;America/Los_Angeles&#x27;</span>, <span class="hljs-string">&#x27;en-US&#x27;</span>) <span class="hljs-comment">//=&gt; &quot;--&quot;</span>

etaTimeStr(currentTime, <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;en-US&#x27;</span>) <span class="hljs-comment">//=&gt; &quot;Invalid DateTime&quot;</span></code></pre></section><div class="section-id" id="isArray"></div><section class="card" data-name="isArray" data-access="public" data-category="Logic" display=""><h2><a class="name" tabindex="3" href="#isArray">isArray</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/isArray.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if passed an array.
Returns <code>false</code> if passed anything else</p></div><pre><code class="hljs javascript">isArray([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment">//=&gt; true</span>

isArray(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">//=&gt; false</span>

isArray(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="isErr"></div><section class="card" data-name="isErr" data-access="public" data-category="Logic" display=""><h2><a class="name" tabindex="3" href="#isErr">isErr</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/isErr.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if passed a <a href="https://crocks.dev/docs/crocks/Result.html#err">Crocks Err</a> instance.
Returns <code>false</code> if passed anything else</p></div><pre><code class="hljs javascript">isErr(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>])) <span class="hljs-comment">//=&gt; true</span>

isErr(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; false</span>

isErr(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="isOfKind"></div><section class="card" data-name="isOfKind" data-access="public" data-category="Logic" display=""><h2><a class="name" tabindex="3" href="#isOfKind">isOfKind</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/isOfKind.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → * → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">kindName</span><span class="description"><p>Lower case string expected when value is passed to <a href="https://github.com/jonschlinkert/kind-of">kind-of</a>.</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if value is of the specified type, <code>false</code> otherwise.</p>
<p>The type is determined using the <a href="https://github.com/jonschlinkert/kind-of">kind-of</a> package.</p></div><pre><code class="hljs javascript">isOfKind(<span class="hljs-string">&#x27;array&#x27;</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment">//=&gt; true</span>

isOfKind(<span class="hljs-string">&#x27;array&#x27;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">//=&gt; false</span>

isOfKind(<span class="hljs-string">&#x27;array&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="isOk"></div><section class="card" data-name="isOk" data-access="public" data-category="Logic" display=""><h2><a class="name" tabindex="3" href="#isOk">isOk</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/isOk.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if passed a <a href="https://crocks.dev/docs/crocks/Result.html#ok">Crocks Ok</a> instance.
Returns <code>false</code> if passed anything else</p></div><pre><code class="hljs javascript">isOk(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>])) <span class="hljs-comment">//=&gt; false</span>

isOk(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; true</span>

isOk(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="isResult"></div><section class="card" data-name="isResult" data-access="public" data-category="Logic" display=""><h2><a class="name" tabindex="3" href="#isResult">isResult</a><span class="pull-right"><span class="label label-category">Logic</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/isResult.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>a → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if passed a <a href="https://crocks.dev/docs/crocks/Result.html">Crocks Result</a> instance.
Returns <code>false</code> if passed anything else</p></div><pre><code class="hljs javascript">isResult(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>])) <span class="hljs-comment">//=&gt; true</span>

isResult(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; true</span>

isResult(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="NonNegativeNumberModel"></div><section class="card" data-name="NonNegativeNumberModel" data-access="public" data-category="Model" display=""><h2><a class="name" tabindex="3" href="#NonNegativeNumberModel">NonNegativeNumberModel</a><span class="pull-right"><span class="label label-category">Model</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/NonNegativeNumberModel.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>* → * | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name"></span><span class="description"><p>The input to validate</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Number</span><span class="description"><p>The validated input, proxied by ObjectModel</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>An <a href="http://objectmodel.js.org/">ObjectModel</a> which validates that an input is:</p>
<ul>
<li>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Javascript Number</a></li>
<li>Is greater than zero</li>
</ul>
<p>If input passes validations, will return the input (proxied by ObjectModel)</p>
<p>Throws an exception if passed in an invalid value.</p></div><pre><code class="hljs javascript">NonNegativeNumberModel(<span class="hljs-number">42</span>)    <span class="hljs-comment">//=&gt; 42</span>

NonNegativeNumberModel(<span class="hljs-number">0</span>)     <span class="hljs-comment">//=&gt; 0</span>

NonNegativeNumberModel(-<span class="hljs-number">1</span>)    <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Value must be &gt;= 0 (got: -1)&#x27;</span>

NonNegativeNumberModel(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;expecting Number, got String &quot;foo&quot;&#x27;</span></code></pre></section><div class="section-id" id="NumberModel"></div><section class="card" data-name="NumberModel" data-access="public" data-category="Model" display=""><h2><a class="name" tabindex="3" href="#NumberModel">NumberModel</a><span class="pull-right"><span class="label label-category">Model</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/NumberModel.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>* → * | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name"></span><span class="description"><p>The input to validate</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Number</span><span class="description"><p>The validated input, proxied by ObjectModel</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>An <a href="http://objectmodel.js.org/">ObjectModel</a> which validates that an input
is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Javascript Number</a></p>
<p>If input passes validation, will return the input (proxied by ObjectModel)</p>
<p>Throws an exception if passed in an invalid value.</p></div><pre><code class="hljs javascript">NumberModel(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; 42 (proxied by ObjectModel)</span>

PositiveNumberModel(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Number: expecting Number, got String &quot;foo&quot;&#x27;</span></code></pre></section><div class="section-id" id="NumberZeroToOneModel"></div><section class="card" data-name="NumberZeroToOneModel" data-access="public" data-category="Model" display=""><h2><a class="name" tabindex="3" href="#NumberZeroToOneModel">NumberZeroToOneModel</a><span class="pull-right"><span class="label label-category">Model</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/NumberZeroToOneModel.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>* → Number | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name"></span><span class="description"><p>The input to validate</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Number</span><span class="description"><p>The validated input, proxied by ObjectModel</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>An <a href="http://objectmodel.js.org/">ObjectModel</a> which validates that an input is:</p>
<ul>
<li>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Javascript Number</a></li>
<li>Is between zero and one, inclusive</li>
</ul>
<p>If input passes validations, will return the input (proxied by ObjectModel)</p>
<p>Throws an exception if passed in an invalid value.</p></div><pre><code class="hljs javascript">NumberZeroToOneModel(<span class="hljs-number">0</span>) <span class="hljs-comment">//=&gt; 0</span>

NumberZeroToOneModel(<span class="hljs-number">1</span>) <span class="hljs-comment">//=&gt; 1</span>

NumberZeroToOneModel(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Value must be &gt;= 0 and &lt;= 1 (got: 42)&#x27;</span>

NumberZeroToOneModel(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;expecting Number, got String &quot;foo&quot;&#x27;</span></code></pre></section><div class="section-id" id="PositiveNumberModel"></div><section class="card" data-name="PositiveNumberModel" data-access="public" data-category="Model" display=""><h2><a class="name" tabindex="3" href="#PositiveNumberModel">PositiveNumberModel</a><span class="pull-right"><span class="label label-category">Model</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/PositiveNumberModel.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>* → * | THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name"></span><span class="description"><p>The input to validate</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Number</span><span class="description"><p>The validated input, proxied by ObjectModel</p></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>An <a href="http://objectmodel.js.org/">ObjectModel</a> which validates that an input is:</p>
<ul>
<li>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Javascript Number</a></li>
<li>Is greater than zero</li>
</ul>
<p>If input passes validations, will return the input (proxied by ObjectModel)</p>
<p>Throws an exception if passed in an invalid value.</p></div><pre><code class="hljs javascript">PositiveNumberModel(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; 42 (</span>

PositiveNumberModel(<span class="hljs-number">0</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;Value must be &gt; 0 (got: 0)&#x27;</span>

PositiveNumberModel(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &#x27;expecting Number, got String &quot;foo&quot;&#x27;</span></code></pre></section><div class="section-id" id="resultToPOJO"></div><section class="card" data-name="resultToPOJO" data-access="public" data-category="Conversion" display=""><h2><a class="name" tabindex="3" href="#resultToPOJO">resultToPOJO</a><span class="pull-right"><span class="label label-category">Conversion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/resultToPOJO.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Result [e] a → Object</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Result</span><span class="name">result</span><span class="description"><p>The Crocks Result instance to convert</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Object</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Converts a <a href="https://crocks.dev/docs/crocks/Result.html">Crocks Result</a> to a Plain Old Javascript Object.</p>
<p>If the <code>Result</code> is an <code>Ok</code>, returns <code>{ok: true, result: a}</code>, where <code>a</code> is the value wrapped by the <code>Ok</code></p>
<p>If the <code>Result</code> is an <code>Err</code>, returns <code>{ok: false, errors: uniqErrArray}</code> where <code>uniqErrArray</code> is a de-duplicated
version of the value wrapped by the <code>Err</code>.</p>
<p>If an <code>Err</code> result does not contain an array, an exception will be thrown</p>
<p><strong>NOTE:</strong> You should ALWAYS use arrays when constructing <code>Err</code> values to ensure that errors accumulate correctly.
If you are working with a library that can return either a single error or an array of errors, use the helper
function <code>wrapNonArray</code>, e.g. <code>Err(wrapNonArray(extLibValidationErr()))</code></p></div><pre><code class="hljs javascript">resultToPOJO(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; {ok: true, result: 42}</span>

resultToPOJO(Err([<span class="hljs-string">&#x27;query invalid&#x27;</span>])) <span class="hljs-comment">//=&gt; {ok: false, errors: [&quot;query invalid&quot;]}</span></code></pre></section><div class="section-id" id="resultUnwrap"></div><section class="card" data-name="resultUnwrap" data-access="public" data-category="Functional" display=""><h2><a class="name" tabindex="3" href="#resultUnwrap">resultUnwrap</a><span class="pull-right"><span class="label label-category">Functional</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/resultUnwrap.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Result e a → e | a</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The Crocks Result instance to unwrap</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Any</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns the value wrapped by a <a href="https://crocks.dev/docs/crocks/Result.html">Crocks Result</a>, whether it is an Ok
or an Err</p>
<p>Throws an exception if not passed a Result.</p></div><pre><code class="hljs javascript">resultUnwrap(Err([<span class="hljs-string">&#x27;invalid query&#x27;</span>])) <span class="hljs-comment">//=&gt; [&#x27;invalid query&#x27;]</span>

resultUnwrap(Ok(<span class="hljs-number">42</span>)) <span class="hljs-comment">//=&gt; 42</span></code></pre></section><div class="section-id" id="sysLocale"></div><section class="card" data-name="sysLocale" data-access="public" data-category="Time" display=""><h2><a class="name" tabindex="3" href="#sysLocale">sysLocale</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/sysLocale.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>() → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns locale string from current environment (see http://www.lingoes.net/en/translator/langcode.htm)</p></div><pre><code class="hljs javascript">sysLocale() <span class="hljs-comment">//=&gt; &quot;en-US&quot;</span></code></pre></section><div class="section-id" id="sysTimezone"></div><section class="card" data-name="sysTimezone" data-access="public" data-category="Time" display=""><h2><a class="name" tabindex="3" href="#sysTimezone">sysTimezone</a><span class="pull-right"><span class="label label-category">Time</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/sysTimezone.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>() → String</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">String</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns time zone string from current environment</p></div><pre><code class="hljs javascript">sysTimezone() <span class="hljs-comment">//=&gt; &quot;America/Los_Angeles&quot;</span></code></pre></section><div class="section-id" id="test"></div><section class="card" data-name="test" data-access="public" data-category="Validation" display=""><h2><a class="name" tabindex="3" href="#test">test</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/test.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Model → * → Boolean</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>The model to test against</p></span></li><li class="list-group-item"><span class="type">Any</span><span class="name">input</span><span class="description"><p>The value to test</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Boolean</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns <code>true</code> if the specified model successfully validates an input, <code>false</code> otherwise.</p>
<p>Used when the caller does not care about the details of why the input failed validation.</p></div><pre><code class="hljs javascript">test(PositiveIntegerModel, -<span class="hljs-number">1</span>) <span class="hljs-comment">//=&gt; false</span>

<span class="hljs-keyword">const</span> isPositive = test(PositiveIntegerModel)

isPositive(<span class="hljs-number">1</span>) <span class="hljs-comment">//=&gt; true</span>

isPositive(<span class="hljs-number">0</span>) <span class="hljs-comment">//=&gt; false</span></code></pre></section><div class="section-id" id="throwError"></div><section class="card" data-name="throwError" data-access="public" data-category="Miscellaneous" display=""><h2><a class="name" tabindex="3" href="#throwError">throwError</a><span class="pull-right"><span class="label label-category">Miscellaneous</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/throwError.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>String → THROW</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">String</span><span class="name">message</span><span class="description"><p>Error message for exception</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Nothing</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Throws an exception. Used to allow terser code, e.g. replacing <code>if</code>/<code>else</code> with a ternary expression.</p></div><pre><code class="hljs javascript">throwError(<span class="hljs-string">&#x27;clear and helpful error message&#x27;</span>) <span class="hljs-comment">//=&gt; EXCEPTION: &quot;clear and helpful error message&quot;</span></code></pre></section><div class="section-id" id="truthTable"></div><section class="card" data-name="truthTable" data-access="public" data-category="Functional" display=""><h2><a class="name" tabindex="3" href="#truthTable">truthTable</a><span class="pull-right"><span class="label label-category">Functional</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/truthTable.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>[*] → [Boolean] → *</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Array</span><span class="name">choiceArray</span><span class="description"><p>An array of items to choose from</p></span></li><li class="list-group-item"><span class="type">Array.&lt;Boolean&gt;</span><span class="name">boolArray</span><span class="description"><p>An array of booleans used to determine which element to return from choiceArray</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">Any</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns an item from an array of choices, making the choice based on a separate array of booleans.</p>
<p>Used to express multilevel if-then control flows in a more functional style.</p></div><pre><code class="hljs javascript"><span class="hljs-comment">// Given the following table:</span>

<span class="hljs-comment">// | isChild | isMale | result  |</span>
<span class="hljs-comment">// |---------|--------|---------|</span>
<span class="hljs-comment">// |    F    |    F   | &#x27;woman&#x27; |</span>
<span class="hljs-comment">// |    F    |    T   |  &#x27;man&#x27;  |</span>
<span class="hljs-comment">// |    T    |    F   |  &#x27;girl&#x27; |</span>
<span class="hljs-comment">// |    T    |    T   |  &#x27;boy&#x27;  |</span>

<span class="hljs-keyword">let</span> isChild = <span class="hljs-literal">false</span>
<span class="hljs-keyword">let</span> isMale = <span class="hljs-literal">false</span>
truthTable([<span class="hljs-string">&#x27;woman&#x27;</span>,<span class="hljs-string">&#x27;man&#x27;</span>,<span class="hljs-string">&#x27;girl&#x27;</span>,<span class="hljs-string">&#x27;boy&#x27;</span>],[isChild, isMale]) <span class="hljs-comment">//=&gt; &quot;woman&quot;</span>

<span class="hljs-comment">// For comparison - expressed using if/then</span>
<span class="hljs-keyword">let</span> isChild = <span class="hljs-literal">false</span>
<span class="hljs-keyword">let</span> isMale = <span class="hljs-literal">false</span>
<span class="hljs-keyword">if</span>(isChild) {
  <span class="hljs-keyword">if</span>(isMale) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;boy&#x27;</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;girl&#x27;</span>
  }
} <span class="hljs-keyword">else</span> {
  <span class="hljs-keyword">if</span>(isMale) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;man&#x27;</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;woman&#x27;</span>
  }
}</code></pre></section><div class="section-id" id="validator"></div><section class="card" data-name="validator" data-access="public" data-category="Validation" display=""><h2><a class="name" tabindex="3" href="#validator">validator</a><span class="pull-right"><span class="label label-category">Validation</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/validator.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Model → (a → Result [String] a)</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Model</span><span class="name">model</span><span class="description"><p>An ObjectModel definition to validate against</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">function</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>Returns a function that will validate an input against a <a href="http://objectmodel.js.org/">Model</a>.
When the returned function is called with an input, it will return a <a href="https://crocks.dev/docs/crocks/Result.html">Crocks Result</a>
instance. This returned instance will be an <a href="https://crocks.dev/docs/crocks/Result.html#ok">Ok</a> wrapping the input
data if it passed the Model's validations, or an <a href="https://crocks.dev/docs/crocks/Result.html#err">Err</a> wrapping
an array of validation error message strings.</p></div><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> PositiveNumberModel = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@eluvio/elv-js-helpers/PositiveNumberModel&#x27;</span>)

<span class="hljs-keyword">const</span> validatePositiveNumber = validator(PositiveNumberModel)

validatePositiveNumber(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; Ok 42</span>

validatePositiveNumber(<span class="hljs-number">0</span>) <span class="hljs-comment">//=&gt; Err [&#x27;PositiveNumber: Value must be &gt; 0 (got: 0)&#x27;]</span>

validatePositiveNumber(<span class="hljs-string">&#x27;foo&#x27;</span>) <span class="hljs-comment">//=&gt; Err [&#x27;PositiveNumber: expecting Number, got String &quot;foo&quot;&#x27;]</span></code></pre></section><div class="section-id" id="wrapNonArray"></div><section class="card" data-name="wrapNonArray" data-access="public" data-category="Conversion" display=""><h2><a class="name" tabindex="3" href="#wrapNonArray">wrapNonArray</a><span class="pull-right"><span class="label label-category">Conversion</span><a target="_blank" title="View source on GitHub" href="https://github.com/eluv-io/elv-abr-profile/tree/v0.0.1/src/wrapNonArray.js"><small class="glyphicon glyphicon-new-window"></small></a></span></h2><div><code>Non-array n =&gt; n | [a] → [n] | [a]</code></div><div class="params" data-expanded="false"><a class="toggle-params" href="#expand">Parameters</a><div class="details panel panel-default"><ul class="list-group"><li class="list-group-item"><span class="type">Any</span><span class="name">x</span><span class="description"><p>The value to wrap in an array (if it is not already an array)</p></span></li></ul><div class="panel-body"><span class="returns">Returns</span><span class="type">array</span><span class="description"></span></div></div></div><p><small>Added in v0.0.1</small></p><div class="description"><p>If value is not an array, returns an array containing the value,
otherwise returns the original value</p></div><pre><code class="hljs javascript">wrapNonArray(<span class="hljs-number">42</span>) <span class="hljs-comment">//=&gt; [42]</span>

wrapNonArray([<span class="hljs-number">42</span>]) <span class="hljs-comment">//=&gt; [42]</span>

wrapNonArray([<span class="hljs-number">0</span>, <span class="hljs-number">42</span>]) <span class="hljs-comment">//=&gt; [0, 42]</span></code></pre></section></main><script src="./js/ramda.0.28.0.min.js"></script><script src="./js/main.js"></script></body></html>